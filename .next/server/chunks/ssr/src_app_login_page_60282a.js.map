{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projetos%20Vscode/NextJsProject1/src/app/login/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from 'next/navigation';\r\nimport { Box, Container, TextField, Button, Typography, Link, Alert, FormControlLabel, Checkbox } from \"@mui/material\";\r\n\r\nexport default function LoginPage() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [lembrar, setLembrar] = useState(false);\r\n  const [mensagem, setMensagem] = useState(\"\");\r\n  const [erro, setErro] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleLogin = async (e) => {\r\n  e.preventDefault();\r\n\r\n  try {\r\n    const res = await fetch(\"http://localhost:8000/api/auth/login/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ username, password }),\r\n    });\r\n\r\n    const data = await res.json();\r\n\r\n    if (res.ok) {\r\n      setErro(false);\r\n      setMensagem(\"‚úÖ Login realizado com sucesso!\");\r\n\r\n      const storage = lembrar ? localStorage : sessionStorage;\r\n\r\n      // üü¢ Salva os tokens JWT\r\n      storage.setItem(\"access\", data.access);\r\n      storage.setItem(\"refresh\", data.refresh);\r\n\r\n      // Salva tamb√©m os dados do usu√°rio\r\n      storage.setItem(\"usuario\", JSON.stringify(data.user));\r\n\r\n      setTimeout(() => {\r\n        router.push(\"/\");\r\n      }, 1200);\r\n    } else {\r\n      setErro(true);\r\n      setMensagem(\r\n        data?.non_field_errors?.[0] ||\r\n        data?.detail ||\r\n        \"‚ùå Imposs√≠vel fazer login com as credenciais fornecidas.\"\r\n      );\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n    setErro(true);\r\n    setMensagem(\"‚ùå Erro de rede ou servidor.\");\r\n  }\r\n};\r\n\r\n  return (\r\n    <Box display=\"flex\" height=\"100vh\">\r\n      {/* Esquerda */}\r\n      <Box\r\n        flex={1}\r\n        sx={{\r\n          background: \"linear-gradient(to bottom, #2196f3, #1e88e5)\",\r\n          color: \"white\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Typography variant=\"h4\" sx={{ fontWeight: \"bold\" }}>\r\n          Conex√£o Hospitalar\r\n        </Typography>\r\n      </Box>\r\n\r\n      {/* Direita */}\r\n      <Box flex={1} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\r\n        <Container maxWidth=\"sm\">\r\n          <Typography variant=\"h4\" gutterBottom>\r\n            Fa√ßa seu login\r\n          </Typography>\r\n\r\n          <form onSubmit={handleLogin}>\r\n            <Box mb={2}>\r\n              <TextField\r\n                label=\"Usu√°rio\"\r\n                fullWidth\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                required\r\n              />\r\n            </Box>\r\n            <Box mb={2}>\r\n              <TextField\r\n                label=\"Senha\"\r\n                type=\"password\"\r\n                fullWidth\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n            </Box>\r\n\r\n            <Box mb={2}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={lembrar}\r\n                    onChange={(e) => setLembrar(e.target.checked)}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Lembrar-me\"\r\n              />\r\n            </Box>\r\n\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"space-between\"\r\n              alignItems=\"center\"\r\n              mb={2}\r\n            >\r\n              <Link href=\"/forgot-password\" variant=\"body2\">\r\n                Esqueceu a senha?\r\n              </Link>\r\n              <Link href=\"/register\" variant=\"body2\">\r\n                Cadastre-se\r\n              </Link>\r\n            </Box>\r\n\r\n            <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>\r\n              Login\r\n            </Button>\r\n          </form>\r\n\r\n          {mensagem && (\r\n            <Box mt={2}>\r\n              <Alert severity={erro ? \"error\" : \"success\"}>{mensagem}</Alert>\r\n            </Box>\r\n          )}\r\n        </Container>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}